!function(){function t(e,n,r){function o(a,l){if(!n[a]){if(!e[a]){var d="function"==typeof require&&require;if(!l&&d)return d(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return t}()({1:[function(t,e,n){"use strict";!function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;"wiz".trim||(String.prototype.trim=function(){return this.replace(t,"")});var e={OTHER_ATTR:{WIZ_SPAN:"data-wiz-span",MATHJAX:"data-mathml"},OTHER_CLASS:{CODE_MIRROR:"wiz-code-container",WIZ_BODY:"wiz-editor-body",WIZ_TABLE_BODY:"wiz-table-body",WIZ_TABLE_CONTAINER:"wiz-table-container"},WIZ_EDITOR_ID:{},BORDER_COLOR:"#F0F2F4",HTML_BG_COLOR:"#E8E8E8",BODY_BG_COLOR:"#FFFFFF",CONTENT_STYLE:"\n    * {box-sizing: border-box;}\n    html {\n      height:100%; \n      background-color:{htmlBgColor} !important;\n      /*margin-left: calc(100vw - 100%) !important;*/\n    }\n    body, .wiz-editor-body {\n      max-width:100%;\n    }\n    body, .wiz-editor-body, .markdown-body {\n      background-color:{bodyBgColor} !important;\n      border:1px solid {borderColor} !important;\n      max-width:820px !important;\n      min-height:initial !important;\n      min-height:calc(100% - 80px) !important;\n      margin:40px auto !important;\n      padding:48px 75px !important;\n    }\n    /*h1, h2, h3, h4, h5, h6 {\n      font-weight: 600;\n      line-height: 1.25;\n      margin-top: 1em;\n      margin-bottom:.5em;\n    }*/\n    \n    /*p, div {margin: 0 0 24px;}*/\n    /*li p, li div {margin-bottom: 8px;}*/\n    /*wiz_code_mirror p, wiz_code_mirror div {margin-bottom:0;}*/\n    \n    a, a:visited, a:active {color: #448aff;}\n    th, td {\n      min-width: 50px;\n    }\n    tr ol, tr ul {\n      margin: 0;\n      -webkit-padding-start: 15px;\n    }\n    pre {\n      background-color:#fafbfc;\n      border:1px solid #e1e4e8;\n      font-size:13px;\n      padding:8px;\n      white-space: pre-wrap;\n    }\n    \n    .wiz-title, .wiz-article, wiz-comment {\n      margin:0;\n      word-break: break-word;\n    }\n    \n    .wiz-title {\n      border-bottom: 1px solid #e9e9e9;\n      margin-bottom:20px;\n    }\n    .wiz-title h1 {\n      /* font-size: 28px; */\n    }\n                \n    .wiz-article {\n      /* color:#2f2f2f;\n      font-size: 16px;\n      font-weight: 400;\n      line-height: 1.7; */\n    }\n    \n    .wiz-comment {\n      /* color:#2f2f2f;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 1.7; */\n    }    \n    \n    svg, img {\n      max-width:100%;\n    }     \n    ",CONTENT_PATCH_STYLE:"\n    /* body {visibility: hidden;} */\n    ",CONTENT_ID:{STYLE:"wiz-content-read-model-style",IFRAME:"wiz-content-iframe-viewer"},CONTENT_CLASS:{IFRAME_ACTIVE:"wiz-content-active"},CONTENT_ATTR:{DOM:"data-wiz-content-read-dom",TYPE:"data-wiz-content-read-type",TMP_REMOVE_FLAG:"data-wiz-content-remove",TMP_STYLE_FLAG:"data-wiz-content-style",TMP_IMG_INSERT_BR:"data-wiz-img-insert-br"},CONTENT_TYPE:{ARTICLE:"article",COMMENTS:"comments"},MAX_AREA_COUNT:180,MAX_DEPTH:20,MAX_PARENT_END_COUNT:5,MIN_AREA_COUNT:80,MIN_HEIGHT_IMG:100,MIN_WIDTH_IMG:500,MIN_WIDTH_RATE_IMG:.6},n=["iframe","frameset","script","noscript","link","style","input","button","select"],r="",o=!1,i=!0,a=!0,l="",d="",s="",u="",T="",m=!1,c="max-height",f="0",g="100%",y=c+" 800ms cubic-bezier(0.52, 0.03, 0.42, 0.99)",v={appendCount:function(t){function n(t,e,n,r,a){var l=a.isAD,d=a.isBorder;i.domList.push(t),i.domOptionsList.push({text:e,isParentEnd:r,isAD:l,isBorder:d});var s=0,u=[],T=0;if(1===t.nodeType&&n>0){s=0,u=t.querySelectorAll("a");for(var m={},c=0,f=0,g=0;g<u.length;g++){var y=u[g];if(v.isVisibleDom(y)){var A=y.href;c++,m[A]?f++:m[A]=1,T+=v.getText(y).trim().length}}c>0&&f/c>.5||T>=.75*n?s=1:T>=.4*n&&(s=.5),n*=1-s}!l&&n>0&&o.length>0&&i.notEmptyDomCount++,l&&(n/=10),d&&(n/=3),i.countList.push(n),i.totalCount+=n}var r=t.dom,o=t.text||"",i=t.result,a=t.isParentEnd,l=t.isAD,d=t.isBorder;v.isEmpty(o)&&(o="");var s=o.length,u=[],T=!1;if(1===r.nodeType&&!a){u=v.isTag(r,["img"])?[r]:r.querySelectorAll("img");for(var m=0;m<u.length;m++){var c=u[m],f=c.src||"",g=c.clientWidth,y=c.clientHeight,A=g/document.body.clientWidth;if(y*g>e.MIN_HEIGHT_IMG*e.MIN_WIDTH_IMG||y>e.MIN_HEIGHT_IMG&&A>=e.MIN_WIDTH_RATE_IMG){T=!0;var p=Math.min(Math.floor(g*y/900),e.MAX_AREA_COUNT);s+=p,o+=f}}}n(r,o,s,a,{isAD:l,isBorder:d})},count:function(t,r,o){var i=void 0,a=void 0,l=!0,d=!1,s=o.isAD||v.isAD(t),u=o.isBorder||v.isBorder(t),T=o.depth||0;if((1===t.nodeType||3===t.nodeType)&&!v.isTag(t,n)&&v.isVisibleDom(t)){if(3===t.nodeType?(a=v.getText(t),l=!1):T>=e.MAX_DEPTH&&(a=v.getText(t),l=!1),!l||s)return void v.appendCount({dom:t,text:a,result:r,isParentEnd:!1,isAD:s,isBorder:u});i=t.childNodes||[];for(var m=0,c=i.length;m<c;m++){var f=i[m];if(v.isVisibleDom(t)&&v.isBlock(f)){d=!0;break}}if(!d)return a=v.getText(t),void v.appendCount({dom:t,text:a,result:r,isParentEnd:!1,isAD:s,isBorder:u});v.appendCount({dom:t,text:"",result:r,isParentEnd:!0,isAD:s,isBorder:u});for(var g=0,y=i.length;g<y;g++){var A=i[g];v.count(A,r,{isAD:s,isBorder:u,depth:T+1})}v.appendCount({dom:t,text:"",result:r,isParentEnd:!0,isAD:s,isBorder:u})}},checkContentType:function(t){function n(){if(0!==t.article.bodyAreaIndex.length)for(var e=0;e<t.article.bodyAreaIndex.length;e++)if(l=t.bodyArea[t.article.bodyAreaIndex[e]],l.rootParent===document.body)return t.contentType=null,t.article.title=null,void(t.article.bodyAreaIndex=[])}function r(n,r){t.contentType=e.CONTENT_TYPE.ARTICLE,t.article.bodyAreaIndex=[n],v.findTitle(r.rootParent,t)}function o(t,e,n){var r=e+"."+n.replace(/ +/g,"."),o=[];try{o=t.querySelectorAll(r)}catch(t){for(var i=document.getElementsByTagName(e),a=n.split(/ +/),l=0;l<i.length;l++){for(var d=i[l],s=" "+(d.className||"")+" ",u=!0,T=0;T<a.length;T++){var m=a[T];if(s.indexOf(" "+m+" ")<0){u=!1;break}}u&&o.push(d)}}return o}function i(n,r){for(var i=[],a=void 0,l=o(document,n,r),d=void 0,s="",u="",T=0,m=0,c=0;c<l.length-1;c++){var f=l[c],g=f.tagName.toLowerCase().trim(),y=f.className.toLowerCase().trim();if(g!==s&&T++,y!==u&&y.indexOf(u)<0&&u.indexOf(y)<0&&m++,T>3||m>3){i=[];break}if(s=g,u=y,a){if(v.isParent(f,a))continue;a=null}if(a=v.checkPathIsSame(l[c+1].parentNode,f.parentNode)){d=o(a,n,r);for(var A=0;A<d.length;A++)i.push(d[A])}}return 0!==i.length&&(t.contentType=e.CONTENT_TYPE.COMMENTS,t.comments.itemList=i,v.findTitle(t.comments.itemList[0],t),!0)}if(t.contentType=null,0!==t.bodyArea.length){for(var a=void 0,l=void 0,d=void 0,s=void 0,u=void 0,T={},m=void 0,c=void 0,f=-1,g=!1,y=void 0,A=void 0,p=document.body.scrollHeight,h=document.body.scrollWidth,E=0;E<t.bodyArea.length;E++)if(l=t.bodyArea[E],y||(d=l.rootParent.scrollHeight,s=l.rootParent.scrollWidth,2*d>p&&2*s>h&&(y=l,A=E)),l.rateSum>40||l.rateCount>40){if(y&&(y.rateSum>40||y.rateCount>40))continue;y=l,A=E}if(t.bodyArea.length<3&&y)return v.log("总个数少于 3，且找到 文章区域，直接设置为文章模式"),r(A,y),void n();for(var N=0;N<t.bodyArea.length;N++){l=t.bodyArea[N],u=l.rootParent;var _=u.className,b=u.tagName.toLowerCase();if(_){m=_.split(" ");for(var C=0;C<m.length;C++)_=m[C].trim(),_&&(_=b+" "+_,T[_]||(T[_]={count:0,index:N}),T[_].count++)}}c="";for(var O in T)if(T.hasOwnProperty(O)){a=T[O];var R=O.split(" ");if(a.count>=3&&i(R[0],R[1])){c=R[1],f=a.index,g=!0;break}}if(g&&y&&A>f&&(v.log("如果评论在 正文之前，则正文很可能是内容更多的其他内容，只能当作辅助正文"),y=null,A=null),g&&y&&y.rootParent.className.trim()!==a)v.log("如果有评论，且文章区域的 className 与 评论区域 的 className 不一致，则设置为文章，并且保留评论内容"),r(A,y);else if(!g&&y){if(v.log("bodyArea >= 3 && 没有评论 && 存在文章区域"),r(A,y),A+1<t.bodyArea.length){var P=A+1,I=t.bodyArea[P];(I.rateSum>10||I.rateCount>10)&&I.start-y.end<20&&t.article.bodyAreaIndex.push(P)}}else if(g&&!y){v.log("如果有评论，且无明确的正文区域");for(var L=0;L<t.bodyArea.length;L++)l=t.bodyArea[L],v.getParentByClass(l.rootParent,c,!0)||(L<f?(v.log("评论前面的内容当作主题"),0===t.article.bodyAreaIndex.length?r(L,l):t.article.bodyAreaIndex.push(L)):(l.rateCount>10||l.rateSum>10)&&(v.log("评论后面的内容只能当作评论"),t.comments.itemList.push(l.rootParent)))}else g||y||v.log("无评论，且无明确的正文区域");n()}},checkPathIsSame:function(t,e){var n=t.parentNode,r=e.parentNode;return!(!n||!r||n===document.body||r===document.body)&&(n===r?n:v.checkPathIsSame(n,r))},findTitle:function(t,e){for(var n=document.body.querySelectorAll("*"),r=void 0,o=void 0,i=void 0,a=void 0,l=0;l<n.length;l++){var d=n[l];if(d===t)break;var s=(d.className||"")+","+(d.id||"");if(v.isTag(d,["h1","h2","h3"])){for(var u=!1,T=d;T&&!v.isTag(T,["body"])&&!(u=v.isBorder(T)||v.isAD(T)||v.isTag(T,["a"]));)T=T.parentNode;if(u)continue;r&&(i=parseInt(r.tagName.substr(1)),a=parseInt(d.tagName.substr(1))),(!r||a<=i)&&(r=d)}else!o&&/title/i.test(s)&&!v.isAD(d)&&v.getText(d).length>5&&v.isVisibleDom(d)&&(o=d)}!r&&o&&(r=o),r&&(e.article.title=r)},clearAttr:function(t){if(!t.getAttribute(e.OTHER_ATTR.WIZ_SPAN)){var n=t.attributes,r=v.isTag(t,["td","tr","table"]),o=void 0,i=void 0,a=void 0;r&&(o=t.style.width,i=t.style.height,a=t.style.backgroundColor);for(var l=n.length-1;l>=0;l--){var d=n[l];/^(on|style)/gi.test(d.name)&&t.removeAttribute(d.name)}r&&(o&&(t.style.width=o),i&&(t.style.height=i),a&&(t.style.backgroundColor=a));var s=t.getAttribute(e.CONTENT_ATTR.TMP_STYLE_FLAG);s&&t.setAttribute("style",s);var u=t.getAttribute(e.CONTENT_ATTR.TMP_IMG_INSERT_BR);if(u){var T=t.parentNode;T.insertBefore(document.createElement("br"),t),T.insertBefore(document.createElement("br"),t.nextSibling)}}},clearContentTempAttr:function(t,e){for(var n=0;n<e.length;n++)for(var r=e[n],o=t.querySelectorAll("["+r+"]"),i=o.length-1;i>=0;i--){var a=o[i];a.removeAttribute(r)}},traversalElement:function(t,n){if(!v.hasClass(t,e.OTHER_CLASS.CODE_MIRROR)&&!t.getAttribute(e.OTHER_ATTR.MATHJAX)){var r=v.isAD(t);if(n(t,r),!r&&!v.isTag(t,["wiz_tmp_tag"]))for(var o=t.children,i=o.length-1;i>=0;i--)v.traversalElement(o[i],n)}},getContentHtml:function(t){function n(t){return!!v.getParentByFilter(t,function(t){return v.isTag(t,["pre"])},!1)}if(v.isTag(t,["tbody","thead"])&&(t=t.parentNode),v.isTag(t,["table"])){var r=t.parentNode,o=r.parentNode;v.hasClass(o,e.OTHER_CLASS.WIZ_TABLE_CONTAINER)&&(t=o)}var i=void 0;v.traversalElement(t,function(t,n){return n||!v.isTag(t,["br","style","link"])&&!v.isVisibleDom(t)?void t.setAttribute(e.CONTENT_ATTR.TMP_REMOVE_FLAG,"true"):void(v.isTag(t,["img"])&&(t.clientWidth<150?t.setAttribute(e.CONTENT_ATTR.TMP_STYLE_FLAG,"width:"+t.clientWidth+"px;height:auto;margin:0 5px;"):(t.setAttribute(e.CONTENT_ATTR.TMP_STYLE_FLAG,"display:block;"),t.setAttribute(e.CONTENT_ATTR.TMP_IMG_INSERT_BR,"1"))))});var a=t.cloneNode(!0);i=a.querySelectorAll("iframe");for(var l=i.length-1;l>=0;l--)v.removeDom(i[l]);i=a.querySelectorAll("script");for(var d=i.length-1;d>=0;d--)v.removeDom(i[d]);i=a.querySelectorAll("["+e.CONTENT_ATTR.TMP_REMOVE_FLAG+"]");for(var s=i.length-1;s>=0;s--)v.removeDom(i[s]);return v.traversalElement(a,function(t){if(v.isTag(t,["style","link","video","audio"]))return void v.removeDom(t);if(1===t.childNodes.length&&!n(t)&&v.isTag(t.firstChild,["br"])){t.isEmpty=!0;var e=t.nextSibling;e&&e.isEmpty&&t.parentNode.removeChild(t)}else v.clearAttr(t)}),v.clearAttr(a),v.clearContentTempAttr(t,[e.CONTENT_ATTR.TMP_REMOVE_FLAG,e.CONTENT_ATTR.TMP_STYLE_FLAG,e.CONTENT_ATTR.TMP_IMG_INSERT_BR]),a.outerHTML},getParentByClass:function(t,e,n){return v.getParentByFilter(t,function(t){return v.hasClass(t,e)},n)},getParentByFilter:function(t,e,n){if(t&&t!==document.body)for(t=n?t:t.parentNode;t;){if(!e||e(t))return t;if(t===document.body)return null;t=t.parentNode}return null},getParentRoot:function(t){if(!t||0===t.length)return null;var e=void 0,n=void 0,r=[];for(n=1===t[0].nodeType?t[0]:t[0].parentNode;n&&n!==document.body;)r.push(n),n=n.parentNode;for(var o=1,i=t.length;o<i;o++)for(n=t[o];n;){if(n===document.body)return document.body;if(e=r.indexOf(n),e>-1){r.splice(0,e);break}n=n.parentNode}return 0===r.length?document.body:r[0]},getText:function(t){return 3===t.nodeType?t.nodeValue:"string"==typeof t.innerText?t.innerText:t.textContent},hasClass:function(t,e){return!(!t||1!==t.nodeType)&&(" "+t.className+" ").indexOf(" "+e+" ")>-1},insertStyle:function(t,e){var n=document.createElement("style");return t.name&&n.setAttribute("name",t.name),t.id&&(n.setAttribute("id",t.id),v.removeStyleById(t.id)),document.getElementsByTagName("HEAD")[0].insertBefore(n,null),n.innerHTML=e,n},isAD:function(t){if(!t||1!==t.nodeType)return!1;var e=(t.className||"")+","+(t.id||"");return/(^ad[^a-zA-Z])|([^a-zA-Z]ad$)/gi.test(e)},isBorder:function(t){if(!t||!t.parentNode)return!1;var e=(t.className||"")+","+(t.id||"");return/(^|[^a-zA-Z])(sidebar|bottom|footer|navbar|feed)([^a-zA-Z]|$)/gi.test(e)},isBlock:function(t){if(!t||1!==t.nodeType)return!1;if(v.isTag(t,["p"]))return!1;if(v.isTag(t,["div","ul","ol","li"]))return!0;if(v.isTag(t,["tr","td"])&&!t.querySelector("table")&&!t.querySelector("div"))return!1;var e=window.getComputedStyle(t,null),n=e.display;return!!n&&!/^(inline|inline-block|inline-table)$/i.test(n)},isEmpty:function(t){var e=new RegExp("[\r\n​\\s]*","ig");return 0===t.replace(e,"").length},isParent:function(t,e){if(!t||!e)return!1;for(var n=t.parentNode;n&&n!==document.body;){if(e===n)return!0;n=n.parentNode}return!1},isTag:function(t,e){if(!t||1!==t.nodeType)return!1;for(var n=t.tagName.toLowerCase(),r=0,o=e.length;r<o;r++)if(n===e[r].toLowerCase())return!0;return!1},isVisibleDom:function(t){if(!t||!t.parentNode)return!1;3===t.nodeType&&(t=t.parentNode);var e=window.getComputedStyle(t,null),n="none"!==e.display&&"hidden"!==e.visibility&&parseFloat(e.opacity)>0;if(n&&v.isBlock(t)){var r=parseInt(e.width,10),o=parseInt(e.height,10);if(!r||!o){var i=t.getBoundingClientRect();r=i.width,o=i.height}n=!(0===r&&0===o)}return n},log:function(t){o&&console.trace(t)},mergeBodyArea:function(t){for(var e=void 0,n=t.bodyArea.length-1;n>=0;n--){var r=t.bodyArea[n];r.rootParent===document.body&&t.bodyArea.splice(n,1)}for(var o=0;o<t.bodyArea.length;o++){for(var i=t.bodyArea[o],a=!1;o>0&&(e=t.bodyArea[o-1],i.rootParent===e.rootParent||v.isParent(i.rootParent,e.rootParent)?(v.log("整合具有相同 rootParent 的区间"),a=!0):v.isParent(e.rootParent,i.rootParent)&&i.start-e.end<20?(v.log("后面合并前面的时候，如果相隔距离太远不进行处理"),a=!0,e.rootParent=i.rootParent):i.start-e.end<3||i.rootParent.previousElementSibling===e.rootParent?(v.log("后面合并前面的时候，如果相隔距离极其接近 < 3 或 两者的父容器并排，不考虑父容器是否相关（尝试）"),a=!0,e.rootParent=v.getParentRoot([e.rootParent,i.rootParent]),i.rootParent=e.rootParent):a=!1,a);)v.log(["merge.... (",e.start,", ",e.end,") - (",i.start,", ",i.end,")"].join("")),e.end=i.end,e.endDom=i.endDom,e.totalCount=0,e.totalSum=0,i=e,t.bodyArea.splice(o,1),o--;v.sumArea(i,t)}},removeDom:function(t){t&&1===t.nodeType&&t.parentNode.removeChild(t)},removeStyleById:function(t){var e=document.getElementById(t);e&&v.isTag(e,["style","link"])&&v.removeDom(e)},resumePage:function(){v.removeStyleById(e.CONTENT_ID.STYLE);for(var t=document.querySelectorAll("["+e.CONTENT_ATTR.DOM+"]"),n=t.length-1;n>=0;n--)t[n].removeAttribute(e.CONTENT_ATTR.DOM),t[n].removeAttribute(e.CONTENT_ATTR.TYPE)},showContent:function(t,n){function o(t){for(var e=[],n=document.querySelectorAll(t),r=0;r<n.length;r++)e.push(v.getContentHtml(n[r]));return e}function l(){for(var t=[],e=document.querySelector("head"),n=e.children,r=0;r<n.length;r++){var o=n[r];if(v.isTag(o,["link","style"])){var a=o.id,l=o.getAttribute("name");(!i||/^wiz[\-_]/i.test(a)||/^wiz[\-_]/i.test(l))&&t.push(o.outerHTML)}}return t}function d(t,n){if(t&&"string"!=typeof t)for(var r=t,o="show";t&&t!==document.body;){if(t!==r&&"show"===t.getAttribute(e.CONTENT_ATTR.DOM)){r.removeAttribute(e.CONTENT_ATTR.DOM),r.removeAttribute(e.CONTENT_ATTR.TYPE);break}t.setAttribute(e.CONTENT_ATTR.DOM,o),"show"===o&&t.setAttribute(e.CONTENT_ATTR.TYPE,n),o="parent",t=t.parentNode}}var s="";if(t.contentType){if(d(t.article.title,"title"),t.contentType===e.CONTENT_TYPE.ARTICLE)for(var u=0;u<t.article.bodyAreaIndex.length;u++){var p=t.bodyArea[t.article.bodyAreaIndex[u]].rootParent;d(p,e.CONTENT_TYPE.ARTICLE)}for(var h=t.comments.itemList.length-1;h>=0;h--)d(t.comments.itemList[h],e.CONTENT_TYPE.COMMENTS);s=t.article.title||"",s="string"==typeof s?s.replace(/</g,"&lt;").replace(/>/g,"&gt;"):s.innerText,s=s.replace(/^(\s|&nbsp;)*/,"")}else i?v.log("此页面 不适合进行内容提取"):v.log("将整篇内容进行展示"),document.body.setAttribute(e.CONTENT_ATTR.TYPE,e.CONTENT_TYPE.ARTICLE);var E=o("["+e.CONTENT_ATTR.TYPE+'="'+e.CONTENT_TYPE.ARTICLE+'"]'),N=o("["+e.CONTENT_ATTR.TYPE+'="'+e.CONTENT_TYPE.COMMENTS+'"]'),_=l(),b=s?'<div class="wiz-title"><h1>'+s+"</h1></div>":"",C="<!DOCTYPE html><html><head><title>"+s+"</title>\n"+_.join("")+'\n<style id="wiz_article_css" name="wiz_tmp_editor_style">'+T+'</style>\n<style name="wiz_tmp_editor_style">'+e.CONTENT_PATCH_STYLE+'</style>\n<style name="wiz_unsave_style">'+r+'</style>\n</head>\n<body class="'+e.OTHER_CLASS.WIZ_BODY+'">\n<div class="wiz-content">\n'+b+'\n<div class="wiz-article">'+E.join("")+'</div>\n<div class="wiz-comment">'+N.join("")+"</div>\n</div>\n</div>\n</body></html>";a&&A(),v.clearContentTempAttr(document.body,[e.CONTENT_ATTR.DOM,e.CONTENT_ATTR.TYPE]),setTimeout(function(){var r=document.createElement("wiz_tmp_tag"),o=document.createElement("iframe");o.id=e.CONTENT_ID.IFRAME,o.className=e.CONTENT_CLASS.IFRAME_ACTIVE,a?(o.style.margin="0",o.style.padding="0",o.style.position="fixed",o.style.top="0",o.style.right="0",o.style.left="0",o.style.bottom="0",o.style.width="100%",o.style.height="100%",o.style.zIndex="2147483647",o.style.border="none",o.style.transition=y,o.style[c]=f,o.style.background="silver"):o.style.display="none",r.appendChild(o),document.body.appendChild(r);var i=o.contentWindow.document;i.open("text/html","replace"),i.write(C),i.close(),setTimeout(function(){m&&(o.style[c]=g)},750),t.iframe=o,t.iframeDoc=i,t.iframeWin=o.contentWindow,n&&n(t)},0)},splitBody:function(t){for(var n=void 0,r=void 0,o=0,i=void 0,a=void 0,l=null,d=!1,s=!1,u=0,T=void 0,m=[],c=0,f=t.countList.length;c<f;c++)r=v.sumCount(c,t),t.sumList[c]=r;t.avgSum=Math.max(t.totalSum/t.notEmptyDomCount,e.MIN_AREA_COUNT),T=Math.min(t.avgSum,e.MAX_AREA_COUNT),v.log("avgSum="+t.avgSum+",  \ntotalSum / notEmptyDomCount="+t.totalSum/t.notEmptyDomCount+", \nareaCount="+T);for(var g=0,y=t.sumList.length;g<y;g++){if(n=t.countList[g],r=t.sumList[g],s=t.domOptionsList[g].isParentEnd,d||0!==n||(r/=2),!d&&r>=T)v.log("bodyStart i="+g+",.....sum:"+r),d=!0,o=g,i=null,u=0;else if(d&&!s&&r>=T)i=null,u=0;else if(d&&(r<T||g===y-1))if(s&&u++,s&&!i&&u<e.MAX_PARENT_END_COUNT&&g<y-1)i=g-1;else if(!s||u>=e.MAX_PARENT_END_COUNT||g===y-1){if(d=!1,i=i?i:g-1,u=0,l&&l.rootParent!==document.body)for(var A=o-1;A>l.end&&A>o-30;A--){var p=t.domList[A],h=t.domOptionsList[A];if(p===l.rootParent||h.isBorder)break;if(v.isTag(p,["h1","h2","h3"])){o=A;break}}a={start:o,end:i,startDom:t.domList[o],endDom:t.domList[i],totalCount:0,totalSum:0,rateCount:0,rateSum:0,rootParent:null},v.log("bodyEnd "+o+" to "+i),a.rootParent=v.getParentRoot([a.startDom,a.endDom]),t.bodyArea.push(a),l=a}m.push(t.countList[g])}},sumArea:function(t,e){for(var n=t.start;n<=t.end;n++)t.totalCount+=e.countList[n],e.countList[n]>0&&(t.totalSum+=e.sumList[n]);t.rateCount=(t.totalCount/e.totalCount*100).toFixed(2),t.rateSum=(t.totalSum/e.totalSum*100).toFixed(2)},sumCount:function(t,n){var r=t-2<0?0:t-2,o=t+2>n.countList.length-1?n.countList.length-1:t+2,i=0;i+=n.countList[t];for(var a=t-1;a>=r&&!(n.countList[a]>e.MAX_AREA_COUNT);a--)i+=n.countList[a];for(var l=t+1;l<=o&&!(n.countList[l]>e.MAX_AREA_COUNT);l++)i+=n.countList[l];return n.countList[t]>0&&(n.totalSum+=i),i}},A=function(){document.body.style.overflow="hidden",document.body.style.marginRight="calc(100vw - 100%)"},p=function(){document.body.style.overflow=null,document.body.style.marginRight=null},h={result:null,init:function(t,e){return r=t||"",o=!!e,h},destory:function(){m=!1;var t=document.getElementById(e.CONTENT_ID.IFRAME);if(t){var n=t.parentNode;n.parentNode.removeChild(n),setTimeout(function(){p()},200)}return h.result=null,h},on:function(t,n){m=!0;var r=document.getElementById(e.CONTENT_ID.IFRAME);if(r)return A(),setTimeout(function(){r.style[c]=g},100),n&&n(h.result),h;var o={article:{title:null,bodyAreaIndex:[]},avgSum:0,bodyArea:[],comments:{itemList:[]},contentType:null,countList:[],domList:[],domOptionsList:[],sumList:[],textList:[],notEmptyDomCount:0,totalCount:0,totalSum:0,iframeDoc:null,iframeWin:null};return i=!t||t.needContentExtraction,a=!t||t.needShow,l=t&&t.borderColor||e.BORDER_COLOR,d=t&&t.htmlBgColor||e.HTML_BG_COLOR,s=t&&t.bodyBgColor||e.BODY_BG_COLOR,u=t&&t.stylePatch||"",T=e.CONTENT_STYLE.replace(/\{borderColor\}/gi,l).replace(/\{htmlBgColor\}/gi,d).replace(/\{bodyBgColor\}/gi,s)+u,i&&(v.count(document.body,o,{isAD:!1,isBorder:!1,depth:0}),v.splitBody(o),v.mergeBodyArea(o),v.checkContentType(o)),v.showContent(o,n),h.result=o,v.log(o),h},off:function(){m=!1;var t=document.getElementById(e.CONTENT_ID.IFRAME);return t&&(t.style[c]=f,t.className="",setTimeout(function(){p()},200)),h}};window.WizContent=h}()},{}]},{},[1]);